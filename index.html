<!DOCTYPE html>
<html>
    <head> 
    <script src="/math.min.js"></script>
    </head>
    
<body>

<h3>A demonstration of how to access a Slider Control</h3>

<input type="range" id="myRange" value="90">

<p>Click the button to get the value of the slider control.</p>

<button onclick="myFunction()">Try it</button>

<p><strong>Note:</strong> input elements with type="range" are not supported in IE 9 and earlier versions.</p>

<p id="demo"></p>

<script>
    
function myMul(W,x) {
    alert("BEGIN!");
    var my_arr = new Float32Array(W.length / x.length);
    for (var i = 0; i < W.length/x.length; i++){
        my_arr[i] = 0.0
        for (var j = 0; j < x.length; j++){
            my_arr[i] += W[i*x.length + j];
        }
    }
    alert("END!");
    return my_arr;
}
function myFunction() {
    var oReq = new XMLHttpRequest();
    oReq.open("GET", "/file3.bin", true);
    oReq.responseType = "arraybuffer";

    oReq.onload = function (oEvent) {
      var arrayBuffer = oReq.response; // Note: not oReq.responseText
      if (arrayBuffer) {
        var dataview = new DataView(arrayBuffer);

        // Create buffer (4 bytes / float)
        var mFloatArray = new Float32Array(arrayBuffer.byteLength / 4);

        // Copy floats
         tmp = 0.0;
        for (var i = 0; i < mFloatArray.length; i++) 
        {
            mFloatArray[i] = dataview.getFloat32(i * 4,true); // At every 4th byte
            tmp += mFloatArray[i];
        }
          window.alert(mFloatArray[0]);
         
          document.write(myMul(mFloatArray,Array([1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])));
      }
    };

    oReq.send(null);
    
}
</script>

</body>
</html>
